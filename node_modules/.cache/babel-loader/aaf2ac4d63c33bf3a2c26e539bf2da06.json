{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/buzzlite/MCG-VUiLA/src/LoggedOutHome.js\";\nimport React, { Component } from 'react';\nimport { Button } from 'semantic-ui-react';\nimport Web3 from 'web3'; // import './css/login.css'\n// import Tulip from './TulipGarden/Tulip';\n// import './css/background.css'\n\nexport class LoggedOutHome extends Component {\n  async handleClick() {\n    var web3;\n\n    if (this.props.gateway === 'METAMASK') {\n      web3 = new Web3(window.ethereum);\n      await window.ethereum.enable();\n    } else if (this.props.gateway === 'GANACHE') {\n      web3 = new Web3(new Web3.providers.HttpProvider('http://localhost:7545'));\n    }\n\n    var accounts = await web3.eth.getAccounts(); // Connect to the deployed smart contract\n\n    var smartContract = await new web3.eth.Contract(this.props.contractAbi, this.props.contractAddress);\n    const gasAmount = await smartContract.methods.adminAddress().estimateGas({\n      from: accounts[0]\n    });\n    const adminAccount = await smartContract.methods.adminAddress().send({\n      from: accounts[0],\n      gas: gasAmount\n    });\n    this.props.logIn(smartContract, accounts[0], adminAccount);\n    console.log(adminAccount);\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        color: \"green\",\n        onClick: () => this.handleClick(),\n        children: \"Log In\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 13\n    }, this);\n  }\n\n}\nexport default LoggedOutHome;","map":{"version":3,"sources":["/home/buzzlite/MCG-VUiLA/src/LoggedOutHome.js"],"names":["React","Component","Button","Web3","LoggedOutHome","handleClick","web3","props","gateway","window","ethereum","enable","providers","HttpProvider","accounts","eth","getAccounts","smartContract","Contract","contractAbi","contractAddress","gasAmount","methods","adminAddress","estimateGas","from","adminAccount","send","gas","logIn","console","log","render"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,MAAT,QAAuB,mBAAvB;AACA,OAAOC,IAAP,MAAiB,MAAjB,C,CACA;AACA;AACA;;AAEA,OAAO,MAAMC,aAAN,SAA4BH,SAA5B,CAAsC;AAEzC,QAAMI,WAAN,GAAoB;AAChB,QAAIC,IAAJ;;AACA,QAAG,KAAKC,KAAL,CAAWC,OAAX,KAAuB,UAA1B,EAAsC;AAClCF,MAAAA,IAAI,GAAG,IAAIH,IAAJ,CAASM,MAAM,CAACC,QAAhB,CAAP;AACA,YAAMD,MAAM,CAACC,QAAP,CAAgBC,MAAhB,EAAN;AACH,KAHD,MAIK,IAAG,KAAKJ,KAAL,CAAWC,OAAX,KAAuB,SAA1B,EAAqC;AACtCF,MAAAA,IAAI,GAAG,IAAIH,IAAJ,CAAS,IAAIA,IAAI,CAACS,SAAL,CAAeC,YAAnB,CAAgC,uBAAhC,CAAT,CAAP;AACH;;AACD,QAAIC,QAAQ,GAAG,MAAMR,IAAI,CAACS,GAAL,CAASC,WAAT,EAArB,CATgB,CAYhB;;AACA,QAAIC,aAAa,GAAG,MAAM,IAAIX,IAAI,CAACS,GAAL,CAASG,QAAb,CAAsB,KAAKX,KAAL,CAAWY,WAAjC,EAA8C,KAAKZ,KAAL,CAAWa,eAAzD,CAA1B;AACA,UAAMC,SAAS,GAAG,MAAMJ,aAAa,CAACK,OAAd,CAAsBC,YAAtB,GAAqCC,WAArC,CAAiD;AAACC,MAAAA,IAAI,EAACX,QAAQ,CAAC,CAAD;AAAd,KAAjD,CAAxB;AACA,UAAMY,YAAY,GAAG,MAAMT,aAAa,CAACK,OAAd,CAAsBC,YAAtB,GAAqCI,IAArC,CAA0C;AAACF,MAAAA,IAAI,EAACX,QAAQ,CAAC,CAAD,CAAd;AAAkBc,MAAAA,GAAG,EAAEP;AAAvB,KAA1C,CAA3B;AACA,SAAKd,KAAL,CAAWsB,KAAX,CAAiBZ,aAAjB,EAAgCH,QAAQ,CAAC,CAAD,CAAxC,EAA6CY,YAA7C;AACAI,IAAAA,OAAO,CAACC,GAAR,CAAYL,YAAZ;AACH;;AAEDM,EAAAA,MAAM,GAAG;AACL,wBACI;AAAA,6BACI,QAAC,MAAD;AAAQ,QAAA,KAAK,EAAC,OAAd;AAAsB,QAAA,OAAO,EAAE,MAAM,KAAK3B,WAAL,EAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YADJ;AAOH;;AA9BwC;AAiC7C,eAAeD,aAAf","sourcesContent":["import React, { Component } from 'react'\nimport { Button } from 'semantic-ui-react'\nimport Web3 from 'web3'\n// import './css/login.css'\n// import Tulip from './TulipGarden/Tulip';\n// import './css/background.css'\n\nexport class LoggedOutHome extends Component {\n\n    async handleClick() {\n        var web3;\n        if(this.props.gateway === 'METAMASK') {\n            web3 = new Web3(window.ethereum);\n            await window.ethereum.enable();\n        }\n        else if(this.props.gateway === 'GANACHE') {\n            web3 = new Web3(new Web3.providers.HttpProvider('http://localhost:7545'));\n        }\n        var accounts = await web3.eth.getAccounts();\n        \n       \n        // Connect to the deployed smart contract\n        var smartContract = await new web3.eth.Contract(this.props.contractAbi, this.props.contractAddress)\n        const gasAmount = await smartContract.methods.adminAddress().estimateGas({from:accounts[0]})\n        const adminAccount = await smartContract.methods.adminAddress().send({from:accounts[0],gas: gasAmount})\n        this.props.logIn(smartContract, accounts[0], adminAccount);\n        console.log(adminAccount);\n    }\n\n    render() {\n        return ( \n            <div >\n                <Button color='green' onClick={() => this.handleClick()}>\n                    Log In\n                </Button>\n            </div>\n        )\n    }\n}\n\nexport default LoggedOutHome;"]},"metadata":{},"sourceType":"module"}